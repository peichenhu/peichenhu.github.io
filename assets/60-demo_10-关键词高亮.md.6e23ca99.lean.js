import{h as C,j as $,O as T,a5 as H,d as x,a6 as k,x as w,C as _,o as b,c as y,H as o,w as u,F as S,D as I,p as U,m as q,k as g,_ as L,t as E,a as V}from"./chunks/framework.03c6a765.js";function P(){return new window.Highlight}function O(){return CSS.highlights}function A(s){const t=P();return O().set(s,t),t}function M(s,t){const e=new Set,l={matchText:s,startNode:t,startIndex:0,endNode:t,endIndex:0};function h(){e.add({startNode:l.startNode,startIndex:l.startIndex,endNode:l.endNode,endIndex:l.endIndex})}let i=!1;function a(r,c=0){let d=r.textContent||"";const m=l.matchText||"";let n=0;if(i===!1&&(n=d.indexOf(m.charAt(0),c),i=n!==-1,i&&(l.startNode=r,l.startIndex=n)),i){const v=d.slice(n);m.length>v.length?(i=m.slice(0,v.length)===v,i?l.matchText=m.slice(v.length):(l.matchText=s,c=n+1,d.indexOf(s.charAt(0),c)!==-1&&a(r,c))):m.length<v.length?(v.slice(0,m.length)===m?(l.endNode=r,l.endIndex=n+m.length-1,h(),c=l.endIndex+1):c=n+1,i=!1,l.matchText=s,d.indexOf(s.charAt(0),c)!==-1&&a(r,c)):(v===m&&(l.endNode=r,l.endIndex=n+m.length-1,h()),i=!1,l.matchText=s,c=n+1,d.indexOf(s.charAt(0),c)!==-1&&a(r,c))}}function p(r){return r.style.getPropertyValue("display")!=="none"}function f(r){r.hasChildNodes()?r.childNodes.forEach(c=>f(c)):r.nodeType===Node.TEXT_NODE&&r.isConnected&&p(r.parentElement)&&a(r,0)}return f(t),Array.from(e)}function D(s){const t=`highlight-${s.name}`;let e=document.head.querySelector(`style[name=${t}]`);e||(e=document.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("name",t),document.head.appendChild(e)),e.innerHTML=`
	::highlight(${t}) {
		background-color: ${s.bgColor};
		color: ${s.color};
	}`}function B(s,t){const e={attributes:!0,childList:!0,subtree:!0},l=new MutationObserver(t);return l.observe(s,e),l}function j(s,t,e){const l=[new Date().toISOString(),"关键词高亮耗时"].join("--");console.time(l),window.getComputedStyle(s,null);let h=[];const i=t.map(a=>{D(a);const p=A(`highlight-${a.name}`);return(a.list||[]).forEach(r=>{M(r,s).forEach(d=>{const m=e.pop()||new Range;m.setStart(d.startNode,d.startIndex),m.setEnd(d.endNode,d.endIndex+1),h.push(m),p.add(m)})}),p});return e.length=0,h.forEach(a=>e.push(a)),console.timeEnd(l),i}function N(s,t){s=s||"html > body",t=t||[];let e=!0,l=[],h=C(null),i=null,a=[];function p(){e=!1,l.forEach(r=>r.clear()),l=j(h.value,t,a),e=!0}function f(){h.value=document.querySelector(s)||document.body,h&&(p(),i=B(h.value,()=>{e&&p()}))}return $(()=>T(f)),H(()=>{i&&i.disconnect()}),{reload:p}}const z=s=>(U("data-v-ca2f0ccd"),s=s(),q(),s),F={class:"use-hightlight"},Q=z(()=>g("div",{class:"case-1"}," Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae pariatur soluta ducimus nisi vitae! Ipsam eos ipsa commodi suscipit numquam accusantium, nostrum eaque. Ipsam dolores quis ea blanditiis quisquam suscipit. 他会被认为是乐于助人的。谁天生孤独却又是生命！我向他们发誓。 他从未收到任何指控，也没有收到任何指控。我会为你感到高兴和高兴。 他承认了。 ",-1)),J=x({__name:"demo-1",setup(s){const t=k({name:"use-hightlight-demo-1",bgColor:"#5c2223",color:"#ffffff",list:["Lorem"]}),e=[{value:"Lorem",label:"Lorem"}],{reload:l}=N(".case-1",[t]);return w(t,()=>l(),{deep:!0}),(h,i)=>{const a=_("el-color-picker"),p=_("el-form-item"),f=_("el-option"),r=_("el-select"),c=_("el-form");return b(),y("div",F,[o(c,{"label-width":"120px",class:"keyword-form"},{default:u(()=>[o(p,{label:"文本字体颜色",prop:"pass"},{default:u(()=>[o(a,{modelValue:t.color,"onUpdate:modelValue":i[0]||(i[0]=d=>t.color=d)},null,8,["modelValue"])]),_:1}),o(p,{label:"文本背景颜色",prop:"checkPass"},{default:u(()=>[o(a,{modelValue:t.bgColor,"onUpdate:modelValue":i[1]||(i[1]=d=>t.bgColor=d)},null,8,["modelValue"])]),_:1}),o(p,{label:"文本词组列表：",prop:"age"},{default:u(()=>[o(r,{modelValue:t.list,"onUpdate:modelValue":i[2]||(i[2]=d=>t.list=d),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"Choose tags for your article"},{default:u(()=>[(b(),y(S,null,I(e,d=>o(f,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),Q])}}});const R=L(J,[["__scopeId","data-v-ca2f0ccd"]]),X={class:"use-hightlight"},G={class:"case-2"},K={class:"case"},W=x({__name:"demo-2",setup(s){const t=C(`Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae pariatur soluta ducimus nisi vitae! Ipsam eos
ipsa commodi suscipit numquam accusantium, nostrum eaque. Ipsam dolores quis ea blanditiis quisquam
suscipit. 他会被认为是乐于助人的。谁天生孤独却又是生命！我向他们发誓。
他从未收到任何指控，也没有收到任何指控。我会为你感到高兴和高兴。 他承认了。`),e=k({name:"use-hightlight-demo-2",bgColor:"#dc9123",color:"#ffffff",list:["Lorem","指控"]}),l=[{value:"Lorem",label:"Lorem"},{value:"指控",label:"指控"}],{reload:h}=N(".case-2",[e]);return w(e,()=>h(),{deep:!0}),(i,a)=>{const p=_("el-color-picker"),f=_("el-form-item"),r=_("el-option"),c=_("el-select"),d=_("el-input"),m=_("el-form");return b(),y("div",X,[o(m,{"label-width":"120px",class:"keyword-form"},{default:u(()=>[o(f,{label:"文本字体颜色",prop:"pass"},{default:u(()=>[o(p,{modelValue:e.color,"onUpdate:modelValue":a[0]||(a[0]=n=>e.color=n)},null,8,["modelValue"])]),_:1}),o(f,{label:"文本背景颜色",prop:"checkPass"},{default:u(()=>[o(p,{modelValue:e.bgColor,"onUpdate:modelValue":a[1]||(a[1]=n=>e.bgColor=n)},null,8,["modelValue"])]),_:1}),o(f,{label:"文本词组列表：",prop:"age"},{default:u(()=>[o(c,{modelValue:e.list,"onUpdate:modelValue":a[2]||(a[2]=n=>e.list=n),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"Choose tags for your article"},{default:u(()=>[(b(),y(S,null,I(l,n=>o(r,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),o(f,{label:"动态文本片段",prop:"checkPass"},{default:u(()=>[o(d,{modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=n=>t.value=n),autosize:"",type:"textarea",placeholder:"动态文本片段"},null,8,["modelValue"])]),_:1})]),_:1}),g("div",G,[g("div",K,E(t.value),1)])])}}});const Y=L(W,[["__scopeId","data-v-a00816c0"]]),Z={class:"use-hightlight"},ee={class:"case-3"},te=["innerHTML"],le=x({__name:"demo-3",setup(s){const t=C(`<span>指</span>
<span>控</span>
<div> <span>指</span><span>控</span> </div>
<div> <span style="display: none">指</span><span>控</span>告</div>
<div>hello <span>L</span>or<span>e</span>m</div>
<div><span style="display: none">L</span>orem--Lorem ipsum dolor sit amet consectetur adipisicing elit.</div>
<div>我向他们发誓。他从未收到任何指控，也没有收到任何指控。</div>
`),e=k({name:"use-hightlight-demo-3",bgColor:"#1781b5",color:"#ffffff",list:["Lorem","指控"]}),l=[{value:"Lorem",label:"Lorem"},{value:"指控",label:"指控"}],{reload:h}=N(".case-3",[e]);return w(e,()=>h(),{deep:!0}),(i,a)=>{const p=_("el-color-picker"),f=_("el-form-item"),r=_("el-option"),c=_("el-select"),d=_("el-input"),m=_("el-form");return b(),y("div",Z,[o(m,{"label-width":"120px",class:"keyword-form"},{default:u(()=>[o(f,{label:"文本字体颜色",prop:"pass"},{default:u(()=>[o(p,{modelValue:e.color,"onUpdate:modelValue":a[0]||(a[0]=n=>e.color=n)},null,8,["modelValue"])]),_:1}),o(f,{label:"文本背景颜色",prop:"checkPass"},{default:u(()=>[o(p,{modelValue:e.bgColor,"onUpdate:modelValue":a[1]||(a[1]=n=>e.bgColor=n)},null,8,["modelValue"])]),_:1}),o(f,{label:"文本词组列表：",prop:"age"},{default:u(()=>[o(c,{modelValue:e.list,"onUpdate:modelValue":a[2]||(a[2]=n=>e.list=n),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"Choose tags for your article"},{default:u(()=>[(b(),y(S,null,I(l,n=>o(r,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),o(f,{label:"动态HTML片段",prop:"checkPass"},{default:u(()=>[o(d,{modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=n=>t.value=n),autosize:"",type:"textarea",placeholder:"动态文本片段"},null,8,["modelValue"])]),_:1})]),_:1}),g("div",ee,[g("div",{class:"case",innerHTML:t.value},null,8,te)])])}}});const oe=L(le,[["__scopeId","data-v-521946b9"]]),ae=g("h1",{id:"关键词高亮",tabindex:"-1"},[V("关键词高亮 "),g("a",{class:"header-anchor",href:"#关键词高亮","aria-label":'Permalink to "关键词高亮"'},"​")],-1),ne=g("p",null,"基于 CSS.highlights 实现。",-1),se=g("h2",{id:"静态文本高亮",tabindex:"-1"},[V("静态文本高亮 "),g("a",{class:"header-anchor",href:"#静态文本高亮","aria-label":'Permalink to "静态文本高亮"'},"​")],-1),re=g("h2",{id:"动态文本高亮",tabindex:"-1"},[V("动态文本高亮 "),g("a",{class:"header-anchor",href:"#动态文本高亮","aria-label":'Permalink to "动态文本高亮"'},"​")],-1),de=g("h2",{id:"拼接文本高亮",tabindex:"-1"},[V("拼接文本高亮 "),g("a",{class:"header-anchor",href:"#拼接文本高亮","aria-label":'Permalink to "拼接文本高亮"'},"​")],-1),ue=JSON.parse('{"title":"关键词高亮","description":"","frontmatter":{},"headers":[],"relativePath":"60-demo/10-关键词高亮.md","filePath":"60-demo/10-关键词高亮.md","lastUpdated":1703663478000}'),ie={name:"60-demo/10-关键词高亮.md"},me=x({...ie,setup(s){return(t,e)=>{const l=_("ClientOnly");return b(),y("div",null,[ae,ne,se,o(l,null,{default:u(()=>[o(R)]),_:1}),re,o(l,null,{default:u(()=>[o(Y)]),_:1}),de,o(l,null,{default:u(()=>[o(oe)]),_:1})])}}});export{ue as __pageData,me as default};
